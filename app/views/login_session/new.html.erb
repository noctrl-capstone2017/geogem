<% provide(:title, "Login") %>
<%= render 'layouts/navbar_login' %>

<div class="container" data-no-turbolink="true">
	<div class="row login-row">
		<div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4 well login-col">

    <h1 class="login-header-text">
    	<%= image_tag("logos/smallgem.png", :alt => "GeoGem logo") %> GeoGem <%= DeployHelper.geogem_version =%>
    </h1>
		<br>

		<%= form_for(:login_session, url: login_path) do |f| %>
			<div class="form-group">		
				<%= render 'layouts/flash' %>
				<%= f.label 'Username' %>
				<%= f.text_field :user_name, class: 'form-control'%>
			</div>
			
			<div class="form-group">
			  <%= f.label :password %>
			  <%= f.password_field :password, class: 'form-control' %>
			</div>

			<br>

			<div class="form-group">
				<%= f.submit "Log in", class: "btn btn-primary btn-lg center-block form-control custom-submit-width" %>
			</div>
			
		<% end %>
			
		<br>
			
		</div>   <!-- end col --> 
	</div>   <!-- end row -->
</div>   <!-- end container -->

<script>
	//focuses into the username field when the page loads for convenience
	$( document ).ready(function() {
		$("#login_session_user_name").focus();

		// trim whitespace out of username on login
		$(".btn.btn-primary").click(function() {
			var rawUsername = $("#login_session_user_name").val();
			var trimUsername = $.trim(rawUsername);
			$("#login_session_user_name").val(trimUsername);
		});
	});
</script>
