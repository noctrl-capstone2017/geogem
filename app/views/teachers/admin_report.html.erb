<!-- Edited for use by Dakota B and Robert H-->
<% provide(:title, "Admin report") %>

<!-- page header -->
<%= render partial: 'schools/school_page_header', 
			:locals => { 	:title => "Admin report", 
										:subtitle => "basic lists of students, teachers, and squares at #{ @school.full_name }"} %>

<div class="row content-text">
	<div class="col-xs-10 col-xs-offset-1">

<!-- This section lists all Students -->
<h3>1) All students
	<small>
		 - there <%= @students.count == 1 ? 'is' : 'are' %> 
		<%= pluralize(@students.count, "student") %> at <%= @school.full_name %> 
	</small>
</h3>

<br>
<table class="table table-striped table-hover table-responsive">
	<thead>
		<tr>
			<th>Icon</th>
			<th>Student Name</th>
			<th>Info</th>
		</tr>
	</thead>
	<tbody>
		<% @students.each do |each_student| %>
		<tr data-link="<%= edit_student_path(each_student.id) %>">
			<td>
				<div class="student-table-icon <%= icon_color(each_student) %>">
				 	<span class="fa fa-lg fa-fw <%= fa_icon(each_student) %>"></span>
				</div>
			</td>	
			<td><p> <%= ux_student_name( each_student, 40) %> </p></td>
			<td><p> <%= truncate( each_student.contact_info, :length => 40) %> </p></td>
		</tr>
		<% end %>
	</tbody>
</table>   <!-- students table -->

<br><hr><br>

<!-- This section lists all Teachers -->
<h3>2) All teachers
	<small>
		 - there <%= @teachers.count == 1 ? 'is' : 'are' %> 
				<%= pluralize(@teachers.count, "teacher") %> at <%= @school.full_name %> 
	</small>
</h3>

<br>
<table class="table table-striped table-hover table-responsive">
 	<thead>
 		<tr>
 			<th>Icon</th>
			<th>Teacher Name</th>
			<th>Login Username</th>
			<th>Email</th>
		</tr>
	</thead>
	<tbody>
		<% @teachers.each do |each_teacher| %>
			<tr data-link="<%= edit_teacher_path(each_teacher.id) %>">
				<td>
				  <div class="teacher-table-icon <%= icon_color(each_teacher) %>">
					  <span class="fa fa-lg fa-fw <%= fa_icon(each_teacher) %>"></span>
				  </div>
				</td>	
				<td><p> <%= ux_teacher_name(each_teacher) %> </p></td>
				<td><p> <%= each_teacher.user_name %> </p></td>
				<td><p> <%= each_teacher.email %> </p></td>
			</tr>
		<% end %>
	</tbody>
</table>   <!-- teachers table -->

<br><hr><br>

<!-- This section lists all Squares -->
<h3>3) All squares
	<small>
		 - there <%= @squares.count == 1 ? 'is' : 'are' %> 
				<%= pluralize(@squares.count, "behavior square") %> at <%= @school.full_name %>
	</small>
</h3>

<br>
<table class="table table-striped table-hover table-responsive">
 	<thead>
 		<tr>
 			<th>Icon</th>
			<th>ID</th>
			<th>Type</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<% @squares.each do |each_square| %>
			<tr data-link="<%= edit_square_path(each_square.id) %>">
				<td>
					<div class="bsquare-table-icon <%= icon_color(each_square) %>">
            <h4><%= each_square.screen_name %></h4>
            <span class="fa fa-fw fa-lg %>"></span>
				  </div>
				</td>	

				<td><p><span> <%= each_square.screen_name %></span> </p></td>

				<td><p> <%= ux_square_tracking_type( each_square) %> </p></td>

				<td><p> <%= truncate( each_square.description, :length => 40) %> </p></td>
			</tr>
		<% end %>
	</tbody>
</table>   <!-- square table -->

	</div>   <!-- col -->
</div>   <!-- row -->
